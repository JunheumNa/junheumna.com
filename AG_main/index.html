<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>AG</title>
	<link rel="stylesheet" href="reset.css">
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/variable/pretendardvariable-dynamic-subset.css" />
</head>
<body>
	<header class="header">
		<div class="header-container">
			<svg width="205" height="115" viewBox="0 0 205 115" fill="none" xmlns="http://www.w3.org/2000/svg">
				<g clip-path="url(#clip0_3_2)">
	              <path d="M53.43 29.83L53.58 29.54V29.68L73.27 73.84H33.74L53.43 29.83ZM53.72 0L38.81 30.41L0 111.34H16.94L27.95 86.87H79.06L90.06 111.34H106.86L68.78 30.41L53.72 0Z"></path>
	              <path d="M204.45 55.6V111.34H191.71L190.12 104.68C184.47 109.46 174.77 114.24 161.45 114.24C132.06 114.24 109.33 91.8 109.33 58.79C109.33 25.78 133.79 1.88 164.34 1.88C178.96 1.88 189.97 5.06 197.79 10.28L191.71 23.6C184.18 18.68 175.35 16.36 164.49 16.36C143.93 16.36 125.98 32.87 125.98 58.78C125.98 84.69 142.2 99.76 162.03 100.19C174.92 100.48 185.05 95.12 188.96 88.9V68.49H163.91V55.6H204.45Z"></path>
              	</g>
              	<defs>
              		<clipPath id="clip0_3_2"><rect width="205" height="115"></rect></clipPath>
              	</defs>
            </svg>

            <div class="header-nav">
            	<a href="">AG Seoul</a>
            	<a href="">AG Books </a>
            	<a href="">AGTI </a>
            	<a href="">AG Lab </a>
            	<a href="">Mabasa </a>
            	<a href="">AG Font</a>
            	<a href="">Ahn Shop </a>
            </div>
            <button class="menu-toggle" aria-label="Toggle menu">☰</button>
    	</div>
	</header>

	<main class="main">
		<section class="hero">
			<div class="slider-container">

				<div class="slider">
					<div class="image"><img src="assets/1985-03.jpg"></div>
					<div class="text">
						<div class="dot"></div>
						<div class="line">굿을 하는 만신 김금화</div>
						<div class="cap">1985.3</div>
					</div>
				</div>

				<div class="slider">
					<div class="image"><img src="assets/1990-10.jpg"></div>
					<div class="text">
						<div class="dot"></div>
						<div class="line">사무실 한쪽 끝에 마련한 암실에서 작업하고 있는 사진 스태프 최온성</div>
						<div class="cap">1990.10</div>
					</div>
				</div>

				<div class="slider">
					<div class="image"><img src="assets/1991-01.jpg"></div>
					<div class="text">
						<div class="dot"></div>
						<div class="line">두손빌딩 식구들. 박소영, 박구영, 김은정, 문혜원, 최우식, 김은영, 김창욱, 임영한, 김두섭</div>
						<div class="cap">1991.1</div>
					</div>
				</div>

				<div class="slider">
					<div class="image"><img src="assets/1998-01.jpg"></div>
					<div class="text">
						<div class="dot"></div>
						<div class="line">사이 갤러리에서 열린 〈보고서/보고서 0.1.세기 새 선언전〉. 그해 15호를 발행한 《보고서/보고서》 발간 10주년을 맞아 전시를 준비했다.</div>
						<div class="cap">1998.9</div>
					</div>
				</div>

				<div class="slider">
					<div class="image"><img src="assets/2004-07.jpg"></div>
					<div class="text">
						<div class="dot"></div>
						<div class="line">성북동 본관 입구에 붙어 있던 안그라픽스 현판</div>
						<div class="cap">2004.7</div>
					</div>
				</div>

				<div class="slider">
					<div class="image"><img src="assets/2005-09.jpg"></div>
					<div class="text">
						<div class="dot"></div>
						<div class="line">20주년을 맞아 새롭게 정립한 안그라픽스 사훈 ‘지성과 창의’</div>
						<div class="cap">2005.9</div>
					</div>
				</div>

				<div class="slider">
					<div class="image"><img src="assets/2009-06.jpg"></div>
					<div class="text">
						<div class="dot"></div>
						<div class="line">새로운 ag 로고로 만든 성북동 본관 입구의 간판</div>
						<div class="cap">2009.6</div>
					</div>
				</div>

				<div class="slider">
					<div class="image"><img src="assets/2012-05.jpg"></div>
					<div class="text">
						<div class="dot"></div>
						<div class="line">《현대미술 용어 100》 스티커 부착</div>
						<div class="cap">2012.5</div>
					</div>
				</div>

				<div class="slider">
					<div class="image"><img src="assets/2013-12.jpg"></div>
					<div class="text">
						<div class="dot"></div>
						<div class="line">출력물을 직접 재단하고 제본할 수 있는 성북동 본관 2층의 공작실</div>
						<div class="cap">2013.12</div>
					</div>
				</div>

				<div class="slider">
					<div class="image"><img src="assets/2014-06.jpg"></div>
					<div class="text">
						<div class="dot"></div>
						<div class="line">진행하고 있는 프로젝트 관련 자료를 각기 정리해 둔 서류철</div>
						<div class="cap">2014.6</div>
					</div>
				</div>

			</div>
		</section>
	</main>

	<div class="footer">
		<div class="date foundation">1985</div>
		<div class="emdash"></div>
		<div class="date current">2025</div>
	</div>
</body>
<script>
  const sliders = document.querySelectorAll('.slider');
  let currentIndex = 0;
  let shuffledIndices = [];

  // Fisher-Yates randomize index
  function shuffleIndices() {
    shuffledIndices = Array.from(sliders.keys());
    for (let i = shuffledIndices.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [shuffledIndices[i], shuffledIndices[j]] = [shuffledIndices[j], shuffledIndices[i]];
    }
  }

  function showNextSlide() {
    // hide prev slide
    sliders.forEach(slider => slider.classList.remove('active'));

    // show current index slide
    const index = shuffledIndices[currentIndex];
    sliders[index].classList.add('active');

    // calc next index
    currentIndex++;
    if (currentIndex >= shuffledIndices.length) {
      currentIndex = 0;
      shuffleIndices(); // re chuffle after one cirulation 
    }

    const nextDelay = 7000;
    setTimeout(showNextSlide, nextDelay);
  }

  window.addEventListener('load', () => {
    shuffleIndices();         // initial shuffle
    setTimeout(showNextSlide, 500); // 1s delay
  });

//

  function positionTextByCap() {
    const minYear = 1985;
    const maxYear = 2025;

    document.querySelectorAll('.slider .text').forEach(textEl => {
      const capEl = textEl.querySelector('.cap');
      if (!capEl) return;

      const match = capEl.textContent.match(/\d{4}/);
      if (!match) return;

      const year = parseInt(match[0]);

      const ratio = Math.min(1, Math.max(0, (year - minYear) / (maxYear - minYear)));

      const left = `calc(${21 + ratio * (100 - 45)}vw)`;

      textEl.style.left = left;
      textEl.style.transform = 'translateX(-50%)';
    });
  }

  window.addEventListener('load', positionTextByCap);

//

  let infoVisible = false;

function toggleTextInfoVisibility() {
  document.querySelectorAll('.slider .text').forEach(textEl => {
    if (infoVisible) {
      textEl.classList.remove('show-info');
      textEl.classList.add('hide-info');
    } else {
      textEl.classList.add('show-info');
      textEl.classList.remove('hide-info');
    }
  });
  infoVisible = !infoVisible;
}

function showInfoOnHover() {
  if (infoVisible) return; 
  document.querySelectorAll('.slider .text').forEach(textEl => {
    textEl.classList.add('show-info');
    textEl.classList.remove('hide-info');
  });
}

function hideInfoOnHoverLeave() {
  if (infoVisible) return; 
  document.querySelectorAll('.slider .text').forEach(textEl => {
    textEl.classList.remove('show-info');
    textEl.classList.add('hide-info');
  });
}

// 이벤트 연결
const emdash = document.querySelector('.emdash');
if (emdash) {
  emdash.addEventListener('click', toggleTextInfoVisibility);
  emdash.addEventListener('mouseenter', showInfoOnHover);
  emdash.addEventListener('mouseleave', hideInfoOnHoverLeave);
}

//mobile



</script>

</html>